(this["webpackJsonpsheet-dashboard"]=this["webpackJsonpsheet-dashboard"]||[]).push([[0],{123:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return ActionMenu}));var _home_ubuntu_Downloads_temp_luckysheet_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(39),_home_ubuntu_Downloads_temp_luckysheet_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(40),_home_ubuntu_Downloads_temp_luckysheet_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(42),_home_ubuntu_Downloads_temp_luckysheet_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(41),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(4),react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__),react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_5__),_szhsin_react_menu__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(15),_szhsin_react_menu_dist_index_css__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(137),_szhsin_react_menu_dist_index_css__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(_szhsin_react_menu_dist_index_css__WEBPACK_IMPORTED_MODULE_7__),_styles_actionmenu_css__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(138),_styles_actionmenu_css__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_styles_actionmenu_css__WEBPACK_IMPORTED_MODULE_8__),react_icons_fi__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(68),crypto_js_aes__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(65),crypto_js_aes__WEBPACK_IMPORTED_MODULE_10___default=__webpack_require__.n(crypto_js_aes__WEBPACK_IMPORTED_MODULE_10__),crypto_js_sha256__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(66),crypto_js_sha256__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(crypto_js_sha256__WEBPACK_IMPORTED_MODULE_11__),crypto_js_lib_typedarrays__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(124),crypto_js_lib_typedarrays__WEBPACK_IMPORTED_MODULE_12___default=__webpack_require__.n(crypto_js_lib_typedarrays__WEBPACK_IMPORTED_MODULE_12__),crypto_js_enc_utf8__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(125),crypto_js_enc_utf8__WEBPACK_IMPORTED_MODULE_13___default=__webpack_require__.n(crypto_js_enc_utf8__WEBPACK_IMPORTED_MODULE_13__),peerjs__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(67),peerjs__WEBPACK_IMPORTED_MODULE_14___default=__webpack_require__.n(peerjs__WEBPACK_IMPORTED_MODULE_14__),react_toastify__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(32),_styles_alert_css__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(240),_styles_alert_css__WEBPACK_IMPORTED_MODULE_16___default=__webpack_require__.n(_styles_alert_css__WEBPACK_IMPORTED_MODULE_16__),copy_to_clipboard__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(126),copy_to_clipboard__WEBPACK_IMPORTED_MODULE_17___default=__webpack_require__.n(copy_to_clipboard__WEBPACK_IMPORTED_MODULE_17__);function uploadAlertTemplate(_){var e=_.substr(0,3)+"-"+_.substr(3,3)+"-"+_.substr(6,3);return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("div",{className:"alert",children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("span",{className:"title",children:[" ",Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("span",{className:"title-icon",children:"\ud83d\udec8"})," Ready to upload workbook."]}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"text",children:"Download using the following key"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("p",{className:"button-box",children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)("button",{onClick:function(){copy_to_clipboard__WEBPACK_IMPORTED_MODULE_17___default()(e),Object(react_toastify__WEBPACK_IMPORTED_MODULE_15__.b)("Copied to clipboard!",{autoClose:2e3,type:"success"})},children:[e,Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.a,{className:"button-icon"})]})})]})}var ActionMenu=function(_React$Component){Object(_home_ubuntu_Downloads_temp_luckysheet_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_2__.a)(ActionMenu,_React$Component);var _super=Object(_home_ubuntu_Downloads_temp_luckysheet_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createSuper__WEBPACK_IMPORTED_MODULE_3__.a)(ActionMenu);function ActionMenu(_){var e;return Object(_home_ubuntu_Downloads_temp_luckysheet_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,ActionMenu),(e=_super.call(this,_)).broker="wss://test.mosquitto.org:8081",e.state={isAlertOpen:!0},e}return Object(_home_ubuntu_Downloads_temp_luckysheet_react_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(ActionMenu,[{key:"createKey",value:function(){var _=crypto_js_lib_typedarrays__WEBPACK_IMPORTED_MODULE_12___default.a.random(16);return crypto_js_sha256__WEBPACK_IMPORTED_MODULE_11___default()(_).toString().slice(0,9)}},{key:"handleHeaderClick",value:function(){this.props.editMode?this.props.setEditMode(!1):this.props.setEditMode(!0)}},{key:"createChannelFromKey",value:function(_){return crypto_js_sha256__WEBPACK_IMPORTED_MODULE_11___default()(_).toString().slice(0,9)}},{key:"handleUploadClick",value:function(){var _=this,e=this.createKey(),t=this.createChannelFromKey(e),a=new peerjs__WEBPACK_IMPORTED_MODULE_14___default.a("sheet-dashboard-sender-"+t);a.on("open",(function(t){a.on("connection",(function(t){t.on("open",(function(){var a=JSON.stringify(_.props.getData()),n=crypto_js_aes__WEBPACK_IMPORTED_MODULE_10___default.a.encrypt(a,e);t.send(n.toString())}))}));e.substr(0,3),e.substr(3,3),e.substr(6,3);Object(react_toastify__WEBPACK_IMPORTED_MODULE_15__.b)(uploadAlertTemplate(e))}))}},{key:"handleDownloadClick",value:function(){var _=this,e=prompt("Please enter the 9 character key:").replaceAll("-",""),t=this.createChannelFromKey(e),a=new peerjs__WEBPACK_IMPORTED_MODULE_14___default.a("sheet-dashboard-receiver-"+t);a.on("open",(function(n){var r=a.connect("sheet-dashboard-sender-"+t);r.on("open",(function(){r.on("data",(function(t){var a=crypto_js_aes__WEBPACK_IMPORTED_MODULE_10___default.a.decrypt(t.toString(),e),n=JSON.parse(a.toString(crypto_js_enc_utf8__WEBPACK_IMPORTED_MODULE_13___default.a));_.props.saveData(n,!0)}))}))}))}},{key:"handlRefreshClick",value:function handlRefreshClick(){eval("luckysheet.refreshFormula()")}},{key:"handleDeleteClick",value:function(){localStorage.clear(),this.props.saveData(null,!0)}},{key:"render",value:function(){var _=this,e=this.props.editMode?"Live Mode":"Edit Mode";return Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)("div",{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsxs)(_szhsin_react_menu__WEBPACK_IMPORTED_MODULE_6__.a,{menuButton:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_szhsin_react_menu__WEBPACK_IMPORTED_MODULE_6__.b,{children:Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(react_icons_fi__WEBPACK_IMPORTED_MODULE_9__.b,{})}),children:[Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_szhsin_react_menu__WEBPACK_IMPORTED_MODULE_6__.d,{onClick:function(){_.handleHeaderClick()},children:e}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_szhsin_react_menu__WEBPACK_IMPORTED_MODULE_6__.c,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_szhsin_react_menu__WEBPACK_IMPORTED_MODULE_6__.d,{onClick:function(){_.handleUploadClick()},children:"Upload"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_szhsin_react_menu__WEBPACK_IMPORTED_MODULE_6__.d,{onClick:function(){_.handleDownloadClick()},children:"Download"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_szhsin_react_menu__WEBPACK_IMPORTED_MODULE_6__.d,{onClick:function(){_.handlRefreshClick()},children:"Refresh"}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_szhsin_react_menu__WEBPACK_IMPORTED_MODULE_6__.c,{}),Object(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_4__.jsx)(_szhsin_react_menu__WEBPACK_IMPORTED_MODULE_6__.d,{styles:{color:"red"},onClick:function(){_.handleDeleteClick()},children:"Delete data"})]})})}}]),ActionMenu}(react__WEBPACK_IMPORTED_MODULE_5___default.a.Component)},132:function(_,e,t){},133:function(_,e,t){},134:function(_,e,t){},138:function(_,e,t){},143:function(_,e){},145:function(_,e){},155:function(_,e){},157:function(_,e){},184:function(_,e){},185:function(_,e){},190:function(_,e){},192:function(_,e){},199:function(_,e){},218:function(_,e){},239:function(_,e){function t(_){var e=new Error("Cannot find module '"+_+"'");throw e.code="MODULE_NOT_FOUND",e}t.keys=function(){return[]},t.resolve=t,_.exports=t,t.id=239},240:function(_,e,t){},243:function(_,e,t){"use strict";t.r(e);var a=t(4),n=t(0),r=t.n(n),s=t(14),o=t.n(s),c=(t(132),t(9)),i=(t(133),t(39)),u=t(40),l=t(42),E=t(41),d=(t(134),function(_){Object(l.a)(t,_);var e=Object(E.a)(t);function t(){var _;Object(i.a)(this,t);for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return(_=e.call.apply(e,[this].concat(n))).state={editMode:_.props.editMode},_}return Object(u.a)(t,[{key:"getColumnsWidth",value:function(_){for(var e=window.innerWidth,t=_.getSheetData()[0].length,a=Math.floor(e/t),n={},r=0;r<t;r++)n[r]=a;return n}},{key:"resizeColumnsToScreenWidth",value:function(_){var e=this.getColumnsWidth(_);_.setColumnWidth(e),document.getElementsByClassName("luckysheet-scrollbar-x")[0].children[0].style.width=window.innerWidth.toString()+"px"}},{key:"buildLuckysheet",value:function(){var _=this,e={},t=this.props.data,a=t[0].visibledatarow.length,n=t[0].visibledatacolumn.length;(e=this.props.editMode?{data:this.props.data,container:"luckysheet",enableAddRow:!1,enableAddBackTop:!1,showinfobar:!1,showstatisticBar:!1,showsheetbarConfig:{menu:!1},row:a,column:n}:{data:t,container:"luckysheet",enableAddRow:!1,enableAddBackTop:!1,showtoolbar:!1,showinfobar:!1,sheetFormulaBar:!1,showstatisticBar:!1,allowCopy:!1,showsheetbarConfig:{menu:!1},row:a,column:n,columnHeaderHeight:0,rowHeaderWidth:0}).hook={workbookCreateAfter:function(e){_.resizeColumnsToScreenWidth(r),_.props.editMode?r.showGridLines():r.hideGridLines()},updated:function(){_.props.saveData(r.getAllSheets())}};var r=window.luckysheet;r.create(e)}},{key:"componentDidUpdate",value:function(){this.buildLuckysheet()}},{key:"componentDidMount",value:function(){this.buildLuckysheet()}},{key:"render",value:function(){var _=this.props.editMode?"editMode":"liveMode";return Object(a.jsx)("div",{id:"luckysheet",className:_,style:{margin:"0px",padding:"0px",position:"absolute",width:"100%",bottom:"0px",left:"0px",top:"0px"}})}}]),t}(r.a.Component)),O=t(123),p=t(32),D=(t(242),[{name:"Sheet1",color:"",status:"1",order:"0",data:[],config:{},index:0,visibledatarow:[[],[],[]],visibledatacolumn:[[],[],[]]}]);var M=function(){var _=Object(n.useState)(l()),e=Object(c.a)(_,2),t=e[0],r=e[1],s=Object(n.useState)(!1),o=Object(c.a)(s,2),i=o[0],u=o[1];function l(){var _=localStorage.getItem("luckysheet-data");if(_)try{return JSON.parse(_)}catch(e){console.error("Error parsing localStorage data",e)}return D}function E(_){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null==_&&(_=D);var t=JSON.stringify(_);localStorage.setItem("luckysheet-data",t),e&&r(l())}return Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(p.a,{position:"bottom-center",autoClose:!1,newestOnTop:!0,closeOnClick:!1,pauseOnFocusLoss:!1,draggable:!1}),Object(a.jsx)(d,{data:t,editMode:i,saveData:E}),Object(a.jsx)(O.a,{editMode:i,setEditMode:function(_){r(l()),u(_)},saveData:E,getData:l})]})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(a.jsx)(M,{}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(_){_.unregister()})).catch((function(_){console.error(_.message)}))}},[[243,1,2]]]);
//# sourceMappingURL=main.ebf503f0.chunk.js.map